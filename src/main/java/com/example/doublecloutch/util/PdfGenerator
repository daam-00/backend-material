package com.example.doublecloutch.util;

import com.example.doublecloutch.entity.Receipt;
import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfWriter;
import org.springframework.stereotype.Service;

import java.io.FileNotFoundException;
import java.io.FileOutputStream;

@Service
public class PdfGenerator {

    public void createPdf(Receipt receipt) throws FileNotFoundException, DocumentException {
        Document document = new Document();
        PdfWriter.getInstance(document, new FileOutputStream("Receipt_" + receipt.getId() + ".pdf"));

        document.open();
        document.add(new Paragraph("Ricevuta Numero: " + receipt.getNumeroRicevuta()));
        document.add(new Paragraph("Utente: " + receipt.getUser().getNome() + " " + receipt.getUser().getCognome()));
        document.add(new Paragraph("Materiale: " + receipt.getMaterial().getNome()));
        document.add(new Paragraph("Descrizione: " + receipt.getDescrizione()));
        document.add(new Paragraph("Quantit√†: " + receipt.getQuantita()));
        document.add(new Paragraph("Costo Unitario: " + receipt.getCostoUnitario()));
        document.add(new Paragraph("Importo Totale: " + receipt.getImportoTotale()));
        document.add(new Paragraph("Tipo di Pagamento: " + receipt.getTipoPagamento()));
        document.add(new Paragraph("Data e Ora: " + receipt.getDataOra()));

        document.close();
    }
}
